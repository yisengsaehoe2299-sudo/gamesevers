<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>Game Server Finder</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
*{box-sizing:border-box}
body{
  margin:0;
  font-family:Arial,sans-serif;
  background:#0b0b0f;
  color:#fff;
}
header{
  padding:20px;
  text-align:center;
  font-size:28px;
  font-weight:bold;
}
.container{
  max-width:1100px;
  margin:auto;
  padding:20px;
}
.grid{
  display:grid;
  grid-template-columns:repeat(auto-fit,minmax(220px,1fr));
  gap:20px;
}
.card{
  background:#14141c;
  border-radius:16px;
  padding:16px;
  text-align:center;
}
.card img{
  width:100%;
  height:180px;
  object-fit:cover;
  border-radius:12px;
  margin-bottom:12px;
  background:#2a2a38;
}
button{
  width:100%;
  padding:12px;
  border:none;
  border-radius:10px;
  background:#4f7cff;
  color:#fff;
  cursor:pointer;
}
.back{margin-bottom:15px;background:#444}

.add-btn{
  position:fixed;
  top:20px;
  right:20px;
  width:50px;
  height:50px;
  border-radius:50%;
  background:#ff4f8b;
  color:#fff;
  border:none;
  cursor:pointer;
  z-index:3;
  display:flex;
  align-items:center;
  justify-content:center;
  font-size:32px;
}

input,select,textarea{
  width:100%;
  padding:10px;
  margin-bottom:10px;
  border-radius:8px;
  border:none;
}
.hidden{display:none}

.mode-box{
  background:#1b1b26;
  padding:10px;
  border-radius:10px;
  margin-bottom:10px;
}
#addModeList label{
  display:grid;
  grid-template-columns:18px 1fr;
  gap:8px;
  margin:6px 0;
}

.preview{
  width:100%;
  height:180px;
  border-radius:12px;
  background:#2a2a38;
  display:flex;
  align-items:center;
  justify-content:center;
  margin-bottom:10px;
  overflow:hidden;
}
.preview img{
  width:100%;
  height:100%;
  object-fit:cover;
}
</style>
</head>

<body>

<button class="add-btn" onclick="openAdd()">Ôºã</button>
<header>‡∏´‡∏≤‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏Å‡∏°</header>

<div class="container">

<!-- ‡∏´‡∏ô‡πâ‡∏≤‡πÅ‡∏£‡∏Å -->
<div id="page1">
  <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏°</h2>
  <div class="grid">
    <div class="card">
      <img src="Minecraft_F.png" alt="">
      <button onclick="chooseGame('Minecraft')">Minecraft</button>
    </div>
    <div class="card">
      <img src="Roblox_F.png" alt="">
      <button onclick="chooseGame('Roblox')">Roblox</button>
    </div>
  </div>
</div>

<div id="page2" class="hidden">
  <button class="back" onclick="goPage(1)">‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
  <h2 id="gameTitle"></h2>
  <div class="grid" id="modeList"></div>
</div>

<div id="page3" class="hidden">
  <button class="back" onclick="goPage(2)">‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
  <h2>‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå</h2>
  <div class="grid" id="serverList"></div>
</div>

<div id="page4" class="hidden">
  <button class="back" onclick="goPage(3)">‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
  <h2 id="detailName"></h2>
  <p id="detailDesc"></p>
  <div id="detailExtra"></div>
</div>

<!-- ‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü -->
<div id="addPage" class="hidden">
  <button class="back" onclick="goPage(1)">‚Üê ‡∏¢‡πâ‡∏≠‡∏ô‡∏Å‡∏•‡∏±‡∏ö</button>
  <h2>‡πÄ‡∏û‡∏¥‡πà‡∏°‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå</h2>

  <select id="addGame" onchange="updateAddModes();toggleAdd()">
    <option value="">-- ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏Å‡∏° --</option>
    <option>Minecraft</option>
    <option>Roblox</option>
  </select>

  <input id="addName" placeholder="‡∏ä‡∏∑‡πà‡∏≠‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü *">
  <textarea id="addDesc" placeholder="‡∏Ñ‡∏≥‡∏≠‡∏ò‡∏¥‡∏ö‡∏≤‡∏¢ *"></textarea>

  <div class="mode-box">
    <b>‡πÅ‡∏ô‡∏ß‡πÄ‡∏Å‡∏° *</b>
    <div id="addModeList"></div>
  </div>

  <!-- üî• ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏£‡∏π‡∏õ‡∏õ‡∏Å -->
  <b>‡∏£‡∏π‡∏õ‡∏õ‡∏Å‡πÄ‡∏ã‡∏¥‡∏£‡πå‡∏ü‡πÄ‡∏ß‡∏≠‡∏£‡πå *</b>
  <div class="preview" id="imgPreview">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡∏£‡∏π‡∏õ</div>
  <input type="file" accept="image/*" id="addImg">

  <div id="mcFields" class="hidden">
    <input id="pcIP" placeholder="PC IP">
    <input id="phoneIP" placeholder="Phone IP">
  </div>

  <div id="rbxFields" class="hidden">
    <input id="rbxLink" placeholder="‡∏•‡∏¥‡∏á‡∏Å‡πå Roblox">
  </div>

  <button onclick="saveServer()">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
</div>

</div>

<script>
const modesByGame={
  Minecraft:["Survival","RPG","PVP","Skyblock","Minigame"],
  Roblox:["Adventure","RPG","Simulator","Obby","PVP"]
};
let servers=[],currentGame="";

function show(p){
  document.querySelectorAll('.container>div').forEach(d=>d.classList.add('hidden'));
  document.getElementById(p).classList.remove('hidden');
}
const goPage=n=>show("page"+n);
const openAdd=()=>show("addPage");

function chooseGame(g){
  currentGame=g;
  gameTitle.innerText=g;
  modeList.innerHTML="";
  modesByGame[g].forEach(m=>{
    modeList.innerHTML+=`<div class="card"><button onclick="chooseMode('${m}')">${m}</button></div>`;
  });
  show("page2");
}

function chooseMode(m){
  serverList.innerHTML="";
  servers.filter(s=>s.game===currentGame && s.modes.includes(m))
    .forEach(s=>{
      serverList.innerHTML+=`
        <div class="card">
          <img src="${s.img}">
          <button onclick="openDetail(${servers.indexOf(s)})">${s.name}</button>
        </div>`;
    });
  show("page3");
}

function openDetail(i){
  const s=servers[i];
  detailName.innerText=s.name;
  detailDesc.innerText=s.desc;
  detailExtra.innerHTML=s.game==="Minecraft"
    ? `<p>PC IP: ${s.pc}</p><p>Phone IP: ${s.phone}</p>`
    : `<a href="${s.link}" target="_blank"><button>‡πÄ‡∏Ç‡πâ‡∏≤ Roblox</button></a>`;
  show("page4");
}

function toggleAdd(){
  mcFields.classList.toggle("hidden",addGame.value!=="Minecraft");
  rbxFields.classList.toggle("hidden",addGame.value!=="Roblox");
}

function updateAddModes(){
  addModeList.innerHTML="";
  if(!addGame.value) return;
  modesByGame[addGame.value].forEach(m=>{
    addModeList.innerHTML+=`<label><input type="checkbox" value="${m}"> ${m}</label>`;
  });
}

/* üî• preview ‡∏£‡∏π‡∏õ */
addImg.onchange=()=>{
  const f=addImg.files[0];
  if(!f) return;
  const r=new FileReader();
  r.onload=e=>{
    imgPreview.innerHTML=`<img src="${e.target.result}">`;
    imgPreview.dataset.img=e.target.result;
  };
  r.readAsDataURL(f);
};

function saveServer(){
  const modes=[...addModeList.querySelectorAll("input:checked")].map(c=>c.value);
  if(!addGame.value||!addName.value||!addDesc.value||!modes.length||!imgPreview.dataset.img)
    return alert("‡∏Å‡∏£‡∏≠‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏´‡πâ‡∏Ñ‡∏£‡∏ö");

  servers.push({
    game:addGame.value,
    name:addName.value,
    desc:addDesc.value,
    modes,
    pc:pcIP.value,
    phone:phoneIP.value,
    link:rbxLink.value,
    img:imgPreview.dataset.img
  });
  show("page1");
}
</script>

</body>
</html>